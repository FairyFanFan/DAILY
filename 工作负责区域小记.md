# 生产

- mat：为物料缩写

## 产生单据

- 新增 复制

- saveFn中 深拷贝赋值的不可逆性，解决方案，只执行功能不赋值

### 生产领料单

- 一级表头【成品信息】+ 【物料信息】

  - 以*弹框内表格中数量不为0的行*数量为据，等于1则替换当前行，大于1则追加到当前单据的表中

  - **总数量** 依照先后顺序分配给列表中的数据且不能超过其库存数量

- 【本次领料量】的数量有超出库存的报错提示，取决于***设置中心 -> 系统参数设置 -> 库存参数设置 -> 允许负库存***开关是否开启

- 【生产单号】 无弹窗功能(...)的情况：***设置中心 -> 系统参数设置 -> 生产参数 -> 允许增加来源单货品*** 关闭状态，此时新建的生产领料单无默认行，只能使用 **功能 -> 转入** ，且无弹框窗功能

- 【批次号码】-> **批次储位信息**弹框（物料货品条件： 非序列号货品 + 是批次货品(matIsOnBatch) + 有仓库id(storageId))

- 【原料信息】中的货品下拉改动并不会影响【成品信息】中的各个列的数据

### 生产加工单

  > 这里的数据是在***资料 -> bom清单***中搭配好的数据

- 【批量添加】 该操作添加的数据能否添加成功，取决于***设置中心 -> 系统参数设置 -> 生产参数 -> 有来源单才能保存***是否勾选。

### 生产组装单

  > 约等于生产加工+生产入库的精简版，它会对库存直接造成影响

### 生产拆卸单

  > **生产组装单**的反向操作，约等于精简版的生产退料，会对仓库造成直接的影响

## 其他相关信息

- 货品属性分为： 成品、半成品、原材料。 其中半成品既可以充当成品又可以充当原材料。

- 单据中的规格货品的相关规格列的展示与否的设置：***设置中心 -> 系统参数设置 -> 显示规格设置***

## 上传

### 技术

- 库管王 ali upload

- 进销存/电商 tecent upload

- 关于单据上传附件的**权限判断**

  - 新增单据 可操作【上传】【删除】【删除全部】

  - 草稿生效驳回+有删除编辑权限 即可操作【上传】【删除】

  - 草稿驳回+有删除编辑权限 即可操作【删除全部】

## 报表

### 多规格列的处理

    - 注意： 如若需求中新增报表中有“多规格”列，是指该报表显示当前系统设置好的多规格列（***设置中心 -> 系统参数设置 -> 显示规格设置***）

## 关于列设置 

  > 伊宁账号修改也不成功的话，就/loginDemo

## 期初库存

- 组合

- 拆分

## jxc sku相关的业务逻辑等

## 跳转来源单相关

## logindemo
