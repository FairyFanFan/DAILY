<!DOCTYPE html>
  <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>RAF的设计目的与实现</title>
        <!-- <script src="js_01.js"></script> -->
    </head>
    <body style="position: relative; top: 0px; left:0px;">
        RAF的设计目的与实现
        <div id="list"></div>
        <p></p>
    </body>
  </html>
<script>
let now = Date.now();
// 插入十万条数据
// for
// setTimeout
// raf
// fragment





const total = 100000;
let pageSize = 20;
let pageIndex = 0;
let pagination = total / pageSize;
// 获取容器
let ul = document.querySelector('#list');
// 将数据插入容器中
// for (let i = 0; i < total; i++) {
//     let li = document.createElement('li');
//     li.innerText = i;
//     ul.appendChild(li);
// }
function loop() {
    var li = null;
    let fragment = document.createDocumentFragment();
    for (let i = 0; i < pageSize + 1; i++) {
        let li = document.createElement('li');
        li.innerText = `${pageIndex * pageSize + i}`;
        fragment.appendChild(li);
    }
    ul.appendChild(fragment);
    pageIndex++;
    if (pageIndex < pagination) requestAnimationFrame(loop);
}
requestAnimationFrame(loop);
</script>